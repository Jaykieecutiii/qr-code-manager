{% extends "dashboard_2.html" %}

{% block page_title %}{{ page_title_for_layout | default("Sản phẩm Danh mục") }}{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">Danh Mục: {{ current_category_name }}</div>
    <p>Dưới đây là danh sách các sản phẩm thuộc danh mục <strong>{{ current_category_name }}</strong>.</p>

    {% if products %}
        <table class="table table-bordered mt-3" style="width:100%; border-collapse: collapse; margin-top: 15px;">
            <thead>
                <tr style="background-color: #f2f2f2;">
                    <th style="padding: 8px; border: 1px solid #ddd;">ID Sản phẩm</th>
                    <th style="padding: 8px; border: 1px solid #ddd;">Tên Sản phẩm</th>
                    <th style="padding: 8px; border: 1px solid #ddd; text-align:right;">Giá</th>
                    <th style="padding: 8px; border: 1px solid #ddd; text-align:center;">Số lượng tồn</th>
                    <th style="padding: 8px; border: 1px solid #ddd;">Hành động</th>
                </tr>
            </thead>
            <tbody>
                {% for product in products %}
                <tr>
                    <td style="padding: 8px; border: 1px solid #ddd;">{{ product.id }}</td>
                    <td style="padding: 8px; border: 1px solid #ddd;">{{ product.name }}</td>
                    <td style="padding: 8px; border: 1px solid #ddd; text-align:right;">{{ "{:,.0f}".format(product.price) if product.price is not none else 0 }} đ</td>
                    <td style="padding: 8px; border: 1px solid #ddd; text-align:center;">{{ product.qty }}</td>
                    <td style="padding: 8px; border: 1px solid #ddd;"><a href="#">Xem</a> | <a href="#">Sửa</a></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p class="mt-3"><em>Chưa có sản phẩm nào trong danh mục này.</em></p>
    {% endif %}
</div>
{% endblock %}